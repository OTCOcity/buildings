<!-- 403 Forbidden — body only -->
<div class="forbidden" role="document" aria-labelledby="f-title">
  <style>
    :root {
      --bg0: #070A12;
      --bg1: #0B1020;
      --card: rgba(255, 255, 255, 0.06);
      --card2: rgba(255, 255, 255, 0.09);
      --text: rgba(255, 255, 255, 0.92);
      --muted: rgba(255, 255, 255, 0.68);
      --muted2: rgba(255, 255, 255, 0.55);
      --border: rgba(255, 255, 255, 0.14);
      --shadow: 0 20px 80px rgba(0, 0, 0, 0.55);
      --radius: 22px;
      --focus: 0 0 0 3px rgba(145, 130, 255, 0.35);
    }

    * { box-sizing: border-box; }
    .forbidden {
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: clamp(16px, 4vw, 40px);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 12% 18%, rgba(140, 92, 255, 0.22), transparent 60%),
        radial-gradient(900px 500px at 85% 20%, rgba(78, 190, 255, 0.18), transparent 60%),
        radial-gradient(1100px 700px at 55% 88%, rgba(255, 130, 145, 0.12), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      overflow: hidden;
      position: relative;
    }

    /* Ambient "threads" */
    .forbidden::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        conic-gradient(from 110deg at 50% 50%,
          rgba(140, 92, 255, 0.18),
          rgba(78, 190, 255, 0.16),
          rgba(255, 130, 145, 0.14),
          rgba(140, 92, 255, 0.18)
        );
      filter: blur(90px);
      opacity: 0.55;
      animation: spin 18s linear infinite;
      pointer-events: none;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    .wrap {
      width: min(980px, 100%);
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: clamp(16px, 3vw, 28px);
      align-items: stretch;
    }

    @media (max-width: 860px) {
      .wrap { grid-template-columns: 1fr; }
    }

    .card {
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.035));
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(900px 400px at 30% 15%, rgba(255,255,255,0.09), transparent 60%);
      pointer-events: none;
    }

    .main {
      padding: clamp(18px, 3vw, 28px);
      display: grid;
      grid-template-rows: auto auto 1fr auto;
      gap: 16px;
      min-height: 360px;
    }

    .meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      position: relative;
      z-index: 1;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.12);
      color: var(--muted);
      font-size: 13px;
      letter-spacing: 0.2px;
      user-select: none;
    }

    .badge__dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,255,255,0) 60%),
        linear-gradient(135deg, rgba(145,130,255,1), rgba(78,190,255,1));
      box-shadow: 0 0 0 4px rgba(145,130,255,0.12);
    }

    .clock {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: var(--muted2);
      font-size: 13px;
      white-space: nowrap;
      user-select: none;
    }
    .clock svg { opacity: 0.85; }

    h1 {
      margin: 0;
      font-size: clamp(28px, 4.5vw, 44px);
      line-height: 1.08;
      letter-spacing: -0.02em;
      position: relative;
      z-index: 1;
    }

    .sub {
      margin: 0;
      color: var(--muted);
      font-size: clamp(14px, 1.65vw, 16px);
      line-height: 1.55;
      position: relative;
      z-index: 1;
      max-width: 62ch;
    }

    .actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      position: relative;
      z-index: 1;
      align-items: center;
    }

    .btn {
      appearance: none;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(255, 255, 255, 0.06);
      color: var(--text);
      padding: 12px 14px;
      border-radius: 14px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      font-size: 14px;
      letter-spacing: 0.2px;
      transition: transform 0.12s ease, background 0.12s ease, border-color 0.12s ease;
      user-select: none;
    }
    .btn:focus-visible { outline: none; box-shadow: var(--focus); }

    .btn:hover { transform: translateY(-1px); background: rgba(255,255,255,0.085); border-color: rgba(255,255,255,0.22); }
    .btn:active { transform: translateY(0px); }

    .btn--primary {
      border-color: rgba(145, 130, 255, 0.35);
      background:
        linear-gradient(135deg, rgba(145,130,255,0.9), rgba(78,190,255,0.78));
      box-shadow: 0 14px 30px rgba(145,130,255,0.18);
      color: rgba(10, 12, 20, 0.92);
    }
    .btn--primary:hover { border-color: rgba(145,130,255,0.55); background: linear-gradient(135deg, rgba(145,130,255,0.95), rgba(78,190,255,0.86)); }
    .btn--ghost {
      background: transparent;
    }

    .hint {
      display: inline-flex;
      gap: 10px;
      align-items: center;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(255, 255, 255, 0.18);
      color: var(--muted2);
      font-size: 13px;
    }
    .hint code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background: rgba(0,0,0,0.25);
      border: 1px solid rgba(255,255,255,0.12);
      padding: 2px 8px;
      border-radius: 999px;
      color: rgba(255,255,255,0.78);
    }

    .side {
      padding: 18px;
      display: grid;
      gap: 14px;
      position: relative;
    }

    .side__top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      position: relative;
      z-index: 1;
    }

    .sig {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      color: var(--muted);
      font-size: 13px;
    }
    .sig__mark {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.14);
      display: grid;
      place-items: center;
      position: relative;
      overflow: hidden;
    }
    .sig__mark::before {
      content: "";
      position: absolute;
      inset: -30%;
      background: conic-gradient(from 180deg, rgba(145,130,255,0.8), rgba(78,190,255,0.7), rgba(255,130,145,0.65), rgba(145,130,255,0.8));
      filter: blur(10px);
      opacity: 0.65;
      animation: spin 10s linear infinite;
    }
    .sig__mark svg { position: relative; z-index: 1; opacity: 0.9; }

    .panel {
      border-radius: 18px;
      background: linear-gradient(180deg, var(--card2), rgba(255,255,255,0.04));
      border: 1px solid rgba(255,255,255,0.14);
      padding: 14px;
      position: relative;
      z-index: 1;
      overflow: hidden;
    }

    .panel__title {
      margin: 0 0 10px 0;
      font-size: 13px;
      color: rgba(255,255,255,0.78);
      letter-spacing: 0.2px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .log {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12.5px;
      line-height: 1.55;
      color: rgba(255,255,255,0.72);
      margin: 0;
      white-space: pre-wrap;
    }

    .log b { color: rgba(255,255,255,0.9); font-weight: 700; }
    .log .dim { color: rgba(255,255,255,0.5); }

    .glyph {
      position: absolute;
      right: -80px;
      top: -70px;
      width: 340px;
      height: 340px;
      opacity: 0.18;
      filter: blur(0.2px);
      pointer-events: none;
      transform: rotate(12deg);
    }

    .big403 {
      position: absolute;
      left: -12px;
      bottom: -30px;
      font-weight: 900;
      letter-spacing: -0.06em;
      font-size: 160px;
      line-height: 1;
      color: rgba(255,255,255,0.06);
      user-select: none;
      pointer-events: none;
      z-index: 0;
    }

    .footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      padding-top: 6px;
      position: relative;
      z-index: 1;
      color: rgba(255,255,255,0.55);
      font-size: 12.5px;
    }

    .link {
      color: rgba(255,255,255,0.75);
      text-decoration: none;
      border-bottom: 1px dashed rgba(255,255,255,0.28);
    }
    .link:hover { color: rgba(255,255,255,0.9); border-bottom-color: rgba(255,255,255,0.5); }
  </style>

  <div class="wrap">
    <section class="card main" aria-label="403 Forbidden">
      <div class="meta">
        <div class="badge" aria-hidden="true">
          <span class="badge__dot"></span>
          <span>ACCESS GATE</span>
        </div>

        <div class="clock" aria-hidden="true">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M12 8v5l3 2" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" stroke="currentColor" stroke-width="1.8"/>
          </svg>
          <span id="clock">--:--:--</span>
        </div>
      </div>

      <h1 id="f-title">Доступ запрещён</h1>

      <p class="sub">
        Ваш запрос дошёл до страницы, но у вас нет прав пройти дальше.
        Это может быть сессия без авторизации, недостаточная роль, или закрытый маршрут.
      </p>

      <div class="actions">
        <a class="btn btn--primary" href="/admin" aria-label="Авторизоваться">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M10 17l1.5 1.5L18 12l-6.5-6.5L10 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16 12H4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M20 19V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.55"/>
          </svg>
          Авторизоваться
        </a>

        <a class="btn btn--ghost" href="javascript:history.back()" aria-label="Назад">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Назад
        </a>

        <span class="hint" aria-label="Подсказка">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 16v-1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M9.8 9.5a2.2 2.2 0 1 1 3.4 1.9c-.9.4-1.2.9-1.2 1.6V14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" stroke="currentColor" stroke-width="2"/>
          </svg>
          Нажмите <code>Esc</code>, чтобы убрать “блокировку”
        </span>
      </div>

      <div class="footer">
        <span>Код: <strong>403 Forbidden</strong></span>
        <a class="link" href="/" aria-label="Перейти на главную">На главную</a>
      </div>

      <div class="big403" aria-hidden="true">403</div>

      <!-- decorative glyph -->
      <svg class="glyph" viewBox="0 0 200 200" fill="none" aria-hidden="true">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="rgba(145,130,255,1)"/>
            <stop offset="1" stop-color="rgba(78,190,255,1)"/>
          </linearGradient>
        </defs>
        <path d="M100 14c26 0 52 10 70 28s28 44 28 70-10 52-28 70-44 28-70 28-52-10-70-28-28-44-28-70 10-52 28-70 44-28 70-28Z"
              stroke="url(#g)" stroke-width="10" opacity="0.9"/>
        <path d="M62 108c14-6 23-19 25-34 2-16 14-28 29-28s27 12 29 28c2 15 11 28 25 34"
              stroke="rgba(255,255,255,0.85)" stroke-width="8" stroke-linecap="round" opacity="0.85"/>
        <path d="M80 132h40" stroke="rgba(255,255,255,0.75)" stroke-width="8" stroke-linecap="round"/>
        <path d="M100 132v22" stroke="rgba(255,255,255,0.75)" stroke-width="8" stroke-linecap="round"/>
      </svg>
    </section>

    <aside class="card side" aria-label="Диагностика">
      <div class="side__top">
        <div class="sig" aria-hidden="true">
          <span class="sig__mark">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M12 2l2.2 6.6L21 9l-5.4 4 2 6.8L12 16.8 6.4 19.8l2-6.8L3 9l6.8-.4L12 2Z"
                    stroke="rgba(255,255,255,0.9)" stroke-width="1.8" stroke-linejoin="round"/>
            </svg>
          </span>
          <span>Security Console</span>
        </div>

        <a class="btn" href="/admin" style="padding:10px 12px; border-radius: 14px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M10 17l5-5-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M15 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Login
        </a>
      </div>

      <div class="panel">
        <p class="panel__title">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M10 13a2 2 0 1 0 4 0a2 2 0 0 0-4 0Z" stroke="currentColor" stroke-width="2"/>
            <path d="M21 12c-2.6 4.5-5.8 7-9 7s-6.4-2.5-9-7c2.6-4.5 5.8-7 9-7s6.4 2.5 9 7Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
          Что произошло
        </p>
        <pre class="log" id="log"><span class="dim">→</span> route: <b id="route">/</b>
<span class="dim">→</span> status: <b>403</b>
<span class="dim">→</span> auth: <b id="auth">unknown</b>
<span class="dim">→</span> hint: <span class="dim">login required / insufficient role</span></pre>
      </div>

      <div class="panel">
        <p class="panel__title">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 2l7 4v6c0 5-3 9-7 10c-4-1-7-5-7-10V6l7-4Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M9.5 12l1.8 1.8L15.5 9.6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Рекомендации
        </p>
        <pre class="log"><span class="dim">1)</span> Авторизуйтесь и повторите запрос
<span class="dim">2)</span> Проверьте роль/права доступа
<span class="dim">3)</span> Если это ошибка — сообщите администратору</pre>
      </div>

      <div class="panel">
        <p class="panel__title">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 19h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M6 16V8a6 6 0 0 1 12 0v8" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>
          Мини-ритуал пропуска (оригинально)
        </p>
        <pre class="log" id="ritual"><span class="dim">[ ]</span> Приложить “ключ” к шлюзу
<span class="dim">[ ]</span> Сверить подпись
<span class="dim">[ ]</span> Получить токен</pre>
      </div>
    </aside>
  </div>

  <script>
    (function () {
      // Live clock (local time)
      var el = document.getElementById('clock');
      function tick() {
        var d = new Date();
        var hh = String(d.getHours()).padStart(2, '0');
        var mm = String(d.getMinutes()).padStart(2, '0');
        var ss = String(d.getSeconds()).padStart(2, '0');
        el.textContent = hh + ':' + mm + ':' + ss;
      }
      tick();
      setInterval(tick, 1000);

      // Diagnostics
      var routeEl = document.getElementById('route');
      var authEl = document.getElementById('auth');
      routeEl.textContent = location.pathname + location.search + location.hash;

      // Best-effort auth detection (customize if you have a known cookie/token name)
      var hasCookie = document.cookie && document.cookie.length > 0;
      var hasStorage = false;
      try {
        hasStorage = !!(localStorage.getItem('token') || sessionStorage.getItem('token'));
      } catch (_) {}
      authEl.textContent = (hasStorage || hasCookie) ? 'present (not enough rights?)' : 'absent (login needed)';

      // Ritual checkboxes animation
      var ritual = document.getElementById('ritual');
      var lines = ritual.textContent.split('\n');
      var i = 0;
      function step() {
        if (i >= lines.length) return;
        lines[i] = lines[i].replace('[ ]', '[x]');
        ritual.textContent = lines.join('\n');
        i += 1;
        setTimeout(step, 480);
      }
      setTimeout(step, 420);

      // ESC toggles "lock" feel (purely visual)
      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') {
          document.body.classList.toggle('unlocked');
          var badge = document.querySelector('.badge span:last-child');
          if (badge) badge.textContent = document.body.classList.contains('unlocked') ? 'ACCESS RELEASED' : 'ACCESS GATE';
        }
      });
    })();
  </script>
</div>
